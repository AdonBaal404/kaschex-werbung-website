<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>KASCHEX – Profi-Angebotsrechner</title>

  <!-- Google Font Inter -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap">

  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
    }

    header {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(-45deg, var(--brand), var(--brand-dark), #0b2342, #002a44);
      background-size: 400% 400%;
      animation: gradientMove 20s ease infinite;
      color: var(--text);
      padding: 2rem 1rem;
    }

    header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--brand-light);
      font-weight: 700;
    }

    header p {
      margin-bottom: 2rem;
      color: var(--muted);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1rem;
      width: 100%;
      max-width: 980px;
    }

    .card {
      background: var(--glass-bg);
      border-radius: var(--radius);
      padding: 1.5rem;
      box-shadow: var(--shadow);
      text-align: left;
      backdrop-filter: blur(10px) saturate(1.1);
    }

    .card h2 {
      font-size: 1.1rem;
      margin-bottom: .6rem;
      color: var(--brand);
      font-weight: 600;
    }

    label {
      display: block;
      font-size: .9rem;
      margin: .5rem 0 .25rem 0;
      color: var(--muted);
    }

    input, select {
      width: 100%;
      padding: .6rem .7rem;
      border-radius: 10px;
      border: 1px solid #1f2a37;
      background: #0f172a;
      color: var(--text);
      font-family: inherit;
      font-size: 1rem;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: .6rem;
    }

    .btns {
      display: flex;
      gap: .6rem;
      flex-wrap: wrap;
      margin-top: .8rem;
    }

    button {
      appearance: none;
      border: 0;
      border-radius: 12px;
      padding: .7rem 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform .2s ease, box-shadow .2s ease;
    }

    .primary { background: var(--brand); color: #00131f; }
    .primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(14,165,233,.45); }
    .ghost   { background: #0f172a; color: var(--text); border: 1px solid #1f2a37; }
    .danger  { background: var(--err); color: #fff; }

    .totals {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .kpi {
      background: #0f172a;
      border: 1px solid #1f2a37;
      border-radius: 12px;
      padding: 1rem;
    }

    .kpi h3 {
      font-size: .95rem;
      color: var(--muted);
      font-weight: 500;
    }

    .kpi b {
      display: block;
      font-size: 1.4rem;
      margin-top: .2rem;
      font-weight: 700;
    }

    .mono { font-family: 'Inter', monospace; }

    footer {
      text-align: center;
      padding: 2rem 1rem;
      background: #020617;
      color: #64748b;
      font-size: .9rem;
    }
  </style>
</head>
<body>

  <header>
    <h1>Profi-Angebotsrechner</h1>
    <p>Alle Parameter & Details sichtbar – präzise Kalkulation für Profis.</p>

    <div class="grid" role="region" aria-label="Kalkulation">
      <!-- Karten wie gehabt -->
      <!-- (Dein Inhalt bleibt unverändert) -->
    </div>
  </header>

  <footer>
    © KASCHEX WERBUNG · Diese Kalkulation ist unverbindlich.
  </footer>

  <!-- Dein JavaScript bleibt unverändert -->
  <script>
    (function(){
      "use strict";
      function g(id){return document.getElementById(id)}
      function round2(x){return Math.round((x+Number.EPSILON)*100)/100}
      function estTime(a,v,tr,ta){return v<=0?0:(a/v+tr+ta)}

      function compute(){
        const A=parseFloat(g("area").value)||0;
        const ch=parseFloat(g("rate").value)||0;
        const v=parseFloat(g("speed").value)||1;
        const tr=parseFloat(g("tprep").value)||0;
        const ta=parseFloat(g("ttravel").value)||0;
        const tMan=g("tmanual").value.trim();
        const tmont=tMan?parseFloat(tMan):estTime(A,v,tr,ta);

        const cFol=parseFloat(g("cfolie").value)||0;
        const cLam=parseFloat(g("clam").value)||0;
        const waste=(parseFloat(g("waste").value)||0)/100;
        const cFix=parseFloat(g("cfix").value)||0;
        const alpha=(parseFloat(g("alpha").value)||0)/100;
        const beta=(parseFloat(g("beta").value)||0)/100;
        const gamma=(parseFloat(g("gamma").value)||0)/100;
        const mwst=(parseFloat(g("mwst").value)||0)/100;

        const cMat=(A*(cFol+cLam))*(1+waste);
        const cArb=tmont*ch;
        const cRisk=(cMat+cArb+cFix)*alpha;
        const Pnet=(cMat+cArb+cFix+cRisk)*(1+beta)*(1+gamma);
        const Pbrut=Pnet*(1+mwst);

        return {tmont:round2(tmont),Cmat:round2(cMat),Carb:round2(cArb),Cfix:cFix,Crisk:round2(cRisk),Pnet:round2(Pnet),Pbrut:round2(Pbrut)};
      }

      function show(r){
        g("kNetto").textContent=r.Pnet.toFixed(2)+" €";
        g("kBrutto").textContent=r.Pbrut.toFixed(2)+" €";
        g("breakdown").textContent=`Zeit: ${r.tmont} h
Material: ${r.Cmat} €
Arbeit:   ${r.Carb} €
Fix:      ${r.Cfix} €
Risiko:   ${r.Crisk} €
-----------------
Netto:    ${r.Pnet} €
Brutto:   ${r.Pbrut} €`;
      }

      function copyQuote(r){
        const s=`KASCHEX – Kurzangebot
Netto:  ${r.Pnet} €
Brutto: ${r.Pbrut} €
Montagezeit: ${r.tmont} h
(Gültig nur mit schriftlichem Angebot)`;
        navigator.clipboard.writeText(s).catch(()=>{});
      }

      g("btnCalc").addEventListener("click",()=>show(compute()));
      g("btnQuote").addEventListener("click",()=>copyQuote(compute()));
      g("btnClear").addEventListener("click",()=>{
        ["area","rate","speed","tprep","ttravel","tmanual","cfolie","clam","waste","cfix","alpha","beta","gamma","mwst"].forEach(id=>g(id).value="");
        g("kNetto").textContent="– €";
        g("kBrutto").textContent="– €";
        g("breakdown").textContent="";
      });
      g("btnTime").addEventListener("click",()=>{
        g("tmanual").value=round2(estTime(parseFloat(g("area").value)||0,parseFloat(g("speed").value)||1,parseFloat(g("tprep").value)||0,parseFloat(g("ttravel").value)||0));
      });
      g("btnResetTime").addEventListener("click",()=>{g("tmanual").value="";});
    })();
  </script>
</body>
</html>

